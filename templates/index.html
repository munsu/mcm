{% extends "base.html" %}
{% load static %}
{% block content %}
  <div class="container">
    <div class="row">
      <div class="col-md-12">
        <div class="panel panel-default">
          <div class="panel-heading">Actionable Responses</div>
          <div class="panel-body">
            <table id="action-table" class="table">
              <thead>
                <tr>
                  <th>phone number</th>
                  <th>appt location</th>
                  <th>appt date</th>
                  <th>status</th>
                  <th>actions</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>7320002923</td>
                  <td>Room#1</td>
                  <td>2016-10-01 08:00:00</td>
                  <td>No reply</td>
                  <td><a href="#">SMS</a>&nbsp;|&nbsp;<a href="#">Call</a></td>
                </tr>
                <tr>
                  <td>7325551433</td>
                  <td>Room#2</td>
                  <td>2016-10-01 13:00:00</td>
                  <td>Twilio Error</td>
                  <td><a href="#">SMS</a>&nbsp;|&nbsp;<a href="#">Call</a></td>
                </tr>
                <tr>
                  <td>7320002928</td>
                  <td>Room#3</td>
                  <td>2016-10-01 08:00:00</td>
                  <td>No reply</td>
                  <td><a href="#">SMS</a>&nbsp;|&nbsp;<a href="#">Call</a></td>
                </tr>
                <tr>
                  <td>7320002927</td>
                  <td>Room#4</td>
                  <td>2016-10-01 08:00:00</td>
                  <td>No reply</td>
                  <td><a href="#">SMS</a>&nbsp;|&nbsp;<a href="#">Call</a></td>
                </tr>
                <tr>
                  <td>7320002926</td>
                  <td>Room#5</td>
                  <td>2016-10-01 08:00:00</td>
                  <td>No reply</td>
                  <td><a href="#">SMS</a>&nbsp;|&nbsp;<a href="#">Call</a></td>
                </tr>
                <tr>
                  <td>7320002925</td>
                  <td>Room#6</td>
                  <td>2016-10-01 08:00:00</td>
                  <td>No reply</td>
                  <td><a href="#">SMS</a>&nbsp;|&nbsp;<a href="#">Call</a></td>
                </tr>
                <tr>
                  <td>7320002924</td>
                  <td>Room#7</td>
                  <td>2016-10-01 08:00:00</td>
                  <td>No reply</td>
                  <td><a href="#">SMS</a>&nbsp;|&nbsp;<a href="#">Call</a></td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-md-6">
        <div class="panel panel-default">
          <div class="panel-heading">Recent Responses</div>
          <div class="panel-body">
          <table class="table">
            <thead>
              <tr>
                <th>timestamp</th>
                <th>phone number</th>
                <th>appt location</th>
                <th>appt date</th>
                <th>status</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>2016-09-30 07:20:37</td>
                <td>7328882235</td>
                <td>Room#2</td>
                <td>2016-10-01 09:00:00</td>
                <td>Confirmed</td>
              </tr>
              <tr>
                <td>2016-09-30 06:51:07</td>
                <td>7320005523</td>
                <td>Room#1</td>
                <td>2016-10-01 10:00:00</td>
                <td>Reschedule</td>
              </tr>
            </tbody>
          </table>
          </div>
        </div>
      </div>
      <div class="col-md-6">
        <div class="panel panel-default">
          <div class="panel-heading">Reports</div>
          <div class="panel-body">
          <canvas id="confirm-report" class="report" width="300" height="200"></canvas>
          Confirmed vs unconfirmed per day graph
          </div>
        </div>
      </div>
    </div>
  </div>
{% endblock content %}

{% block extrascript %}
  <script type="text/javascript">
    $(document).ready(function(){
      $('#action-table').DataTable();

      var confirmReport = new Chart($('#confirm-report'), {
        type: 'bar',
        data: {
          labels: ["Oct 19", "Oct 20", "Oct 21", "Oct 22", "Oct 23", "Oct 24", "Oct 25"],
          datasets: [{
            label: 'Confirmed',
            data: [12, 19, 3, 5, 2, 3, 4],
            backgroundColor: 'rgba(132, 255, 99, 0.6)',
            borderColor: 'rgba(132, 255, 99, 1)',
            borderWidth: 1
          }, {
            label: 'No Response',
            data: [12, 19, 2, 3, 5, 2, 3],
            backgroundColor: 'rgba(255, 206, 86, 0.6)',
            borderColor: 'rgba(255, 206, 86, 1)',
            borderWidth: 1
          }, {
            label: 'Cancelled',
            data: [1, 12, 19, 3, 5, 2, 3],
            backgroundColor: 'rgba(255, 99, 132, 0.6)',
            borderColor: 'rgba(255, 99, 132, 1)',
            borderWidth: 1
          }]
        },
        options: {
          scales: {
            xAxes: [{
              stacked: true
            }],
            yAxes: [{
              stacked: true,
              ticks: {
                beginAtZero: true
              }
            }]
          }
        }
      });
    });
  </script>
{% endblock extrascript %}
